(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],u=0,m=[];u<s.length;u++)o=s[u],r[o]&&m.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r={app:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-24319edc":"0424f0e1"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-24319edc":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-24319edc":"f8a8b480"}[e]+".css",r=c.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===r))return t()}var m=document.getElementsByTagName("style");for(s=0;s<m.length;s++){l=m[s],u=l.getAttribute("data-href");if(u===a||u===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[e],d.parentNode.removeChild(d),n(i)},d.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){o[e]=0}));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,n){a=r[e]=[t,n]});t.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e),l=function(t){u.onerror=u.onload=null,clearTimeout(m);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");i.type=a,i.request=o,n[1](i)}r[e]=void 0}};var m=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var m=0;m<l.length;m++)t(l[m]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("64a9"),o=n.n(a);o.a},"1c1e":function(e,t,n){"use strict";var a=n("7618"),o=(n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("bc3a")),r=n.n(o),i=n("a18c"),s=n("56d7"),c=n("5f87"),l=n("66cf"),u=r.a.create({baseURL:l,timeout:1e4});u.interceptors.request.use(function(e){var t=e.url;if(-1===t.indexOf("login")&&!Object(c["b"])("token"))return i["a"].push("/login"),Promise.reject("您尚未登录");if(e.headers.Authorization=Object(c["b"])("token"),-1==t.indexOf("login")&&-1==t.indexOf("getUserInfo")){var n=s["default"].$store.state.userInfo,o=n&&n.permissionList;if(!o)return e;var r=!0,l=!1,u=void 0;try{for(var m,d=o[Symbol.iterator]();!(r=(m=d.next()).done);r=!0){var p=m.value;if(("/"+t).indexOf(p)>-1){var f=function(){for(var n="",a=[{api:"add",name:"添加"},{api:"update",name:"修改"},{api:"del",name:"删除"},{api:"get",name:"数据"},{api:"find",name:"数据"}],o=0,r=a;o<r.length;o++){var i=r[o];t.indexOf(i.api)>-1&&(n=i.name)}return setTimeout(function(){s["default"].$message.error("您暂无"+(e.name||n)+"权限")}),{v:Promise.reject("您暂无"+(e.name||n)+"权限")}}();if("object"===Object(a["a"])(f))return f.v}}}catch(h){l=!0,u=h}finally{try{r||null==d.return||d.return()}finally{if(l)throw u}}}return e},function(e){return console.log(e),Promise.reject(e)}),u.interceptors.response.use(function(e){var t=e.data;return t&&"200"==e.status?t.status&&"200"!=t.status?Promise.reject(t.msg):Promise.resolve(t):t&&"20011"==t.status?void i["a"].push("/login"):Promise.reject("res拦截器报错："+t.msg)},function(e){return Promise.reject(e)}),t["a"]=u},"275f":function(e,t,n){},"34c0":function(e,t,n){e.exports=n.p+"img/maxlogo.1eeaaab0.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("ac6a"),n("d225"),n("b0b4"),n("ac4d"),n("8a81"),n("cadf"),n("551c"),n("f751"),n("097d"),n("db4d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],i={name:"app",components:{}},s=i,c=(n("034f"),n("2877")),l=Object(c["a"])(s,o,r,!1,null,null,null),u=l.exports,m=n("a18c"),d=n("5c96"),p=n.n(d),f=(n("0fae"),n("2f62")),h=n("bd86"),g=(n("5f87"),n("ba41"),{state:{},mutations:Object(h["a"])({SET_USER_ID:function(e,t){e.userId=t}},"SET_USER_ID",function(e,t){e.userName=t}),actions:{},getters:{}}),v=g,b=n("66cf");a["default"].use(f["a"]);var y=new f["a"].Store({state:{baseURL:b,userInfo:null},modules:{user:v},mutations:{userInfo:function(e,t){e.userInfo=t}}});n("275f"),n("be35"),Symbol("showMessage");a["default"].use(p.a),a["default"].config.productionTip=!1;var S=null;function k(){var e=y.state.userInfo;e&&(S=e.permissionList)}function w(e){if(!S)return!1;var t=!0,n=!1,a=void 0;try{for(var o,r=S[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var i=o.value;if(i===e)return!0}}catch(s){n=!0,a=s}finally{try{t||null==r.return||r.return()}finally{if(n)throw a}}}k(),a["default"].prototype.getPermissionList=k,a["default"].directive("permi",{bind:function(e,t){w(t.value)&&(e.setAttribute("disabled","disabled"),e.className+=" is-disabled",e.title="您暂无权限")}}),a["default"].prototype.resetSetItem=function(e,t){if("userInfo"===e){var n=document.createEvent("StorageEvent"),a={setItem:function(e,t){localStorage.setItem(e,t),n.initStorageEvent("setItem",!1,!1,e,null,t,null,null),window.dispatchEvent(n)}};return a.setItem(e,t)}},Array.prototype.remove=function(e){var t=this.indexOf(e);t>-1&&this.splice(t,1)};var x=new a["default"]({router:m["a"],store:y,render:function(e){return e(u)}}).$mount("#app");t["default"]=x},"5cb8":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});n("6b54");var a=n("3452"),o=n.n(a),r="aomenhuangjiaduchangshangxianle",i=function(e){var t=o.a.enc.Utf8.parse(r),n={mode:o.a.mode.ECB,padding:o.a.pad.Pkcs7},a=o.a.DES.encrypt(e,t,n);return a.ciphertext.toString()},s=function(e){var t=o.a.enc.Utf8.parse(r),n=o.a.DES.decrypt({ciphertext:o.a.enc.Hex.parse(e)},t,{mode:o.a.mode.ECB,padding:o.a.pad.Pkcs7});return n.toString(o.a.enc.Utf8)}},"5f87":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r});n("4917"),n("3b2b");function a(e,t,n){if(0!==n){var a=24*n*60*60*1e3,o=new Date(+new Date+a);document.cookie=e+"="+escape(t)+";expires="+o.toUTCString()}else document.cookie=e+"="+escape(t)}function o(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null}function r(e){a(e," ",-1)}},"64a9":function(e,t,n){},"66cf":function(e,t){var n;n="http://192.168.103.215:8089/",e.exports=n},8408:function(e,t,n){e.exports=n.p+"img/toux.cdc2eec4.jpg"},9261:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("UMEN",{directives:[{name:"show",rawName:"v-show",value:e.message,expression:"message"}]}),n("div",{staticClass:"right",class:{right2:e.message}},[n("Head",{attrs:{msg:e.meta,userName:e.userName},on:{showUmen:e.showUmen}}),n("el-main",{staticClass:"main"},[n("el-scrollbar",{ref:"scroll",staticStyle:{height:"100%"}},[n("keep-alive",[this.$route.meta.keepAlive?n("router-view"):e._e()],1),this.$route.meta.keepAlive?e._e():n("router-view")],1)],1)],1)],1)},o=[],r=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[e._m(0),n("el-container",[n("el-row",{staticClass:"tac"},[n("el-col",{attrs:{span:12,width:"240px"}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.showPath,router:"","unique-opened":""}},e._l(e.list,function(t,a){return n("div",{key:a,staticClass:"item-list"},[t.children?n("div",[n("el-submenu",{attrs:{index:a+""}},[n("template",{slot:"title"},[n("i",{staticClass:"iconfont",class:t.icon,staticStyle:{"margin-right":"20px"},style:{color:t.color}}),n("span",{staticStyle:{"font-size":"16px",color:"#323232"}},[e._v(e._s(t.name))])]),e._l(t.children,function(a,o){return n("div",{key:o},[a.hidden?e._e():n("div",[n("el-menu-item",{staticStyle:{"padding-left":"70px",color:"#909090"},attrs:{index:t.path+"/"+a.path}},[e._v(e._s(a.name))])],1)])})],2)],1):n("div",[n("el-menu-item",{attrs:{index:t.path}},[n("i",{staticClass:"iconfont",class:t.icon,staticStyle:{"margin-right":"20px"},style:{color:t.color}}),n("span",{staticStyle:{color:"#323232"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])],1)])}),0)],1)],1),n("el-container")],1)],1)}),i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:n("34c0"),alt:""}})])}],s=(n("ac6a"),n("ddb9")),c={name:"umen",props:{msg:String},data:function(){return{list:[],fromRoute:sessionStorage.getItem("fromRoute")}},mounted:function(){var e=Object(s["a"])(),t=[];e.forEach(function(e){e.hidden||t.push(e)}),this.list=t},methods:{},computed:{showPath:function(){var e=this.$route.path;switch(e){case"/clue/message":return"/clue/index";case"/sellManagement/customerdetails":return"/sellManagement/customer";case"/clue/returnDetail":return"/clue/sendBack";case"/clue/highSeasdetails":return"/clue/highSeas";case"/sellManagement/linkmandetails":return"/sellManagement/linkman";case"/sellManagement/opportunitydetails":return"/sellManagement/opportunity";case"/sellManagement/contractdetails":return"/sellManagement/contract";case"/sellManagement/receivableRecorddetails":return"/sellManagement/receivable";case"/afterSale/CustomerPanoramic":return"/afterSale/accountant";case"/sellManagement/receivablePlandetails":return"/sellManagement/receivable";default:return e}}}},l=c,u=(n("a127"),n("2877")),m=Object(u["a"])(l,r,i,!1,null,"5f20702a",null),d=m.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-title"},[n("div",{staticClass:"header-list"},[n("div",{staticStyle:{"line-height":"57px"}},[n("i",{staticClass:"iconfont icondaohangshouqi-",staticStyle:{"font-size":"20px",cursor:"pointer"},on:{click:e.umen}})]),n("p",{staticStyle:{"line-height":"58px"}},[n("span",[e._v(e._s(e.msg))]),n("router-link",{attrs:{to:""}})],1)]),n("div",{staticClass:"top"},[n("div",{staticClass:"title"},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link",staticStyle:{cursor:"pointer"}},[n("img",{attrs:{src:e.src,alt:""}}),e._v("\n              "+e._s(e.userName)+"  \n            "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),n("el-dropdown-menu",{staticStyle:{width:"200px"},attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"/admin/informations"}},[n("i",{staticClass:"iconfont icongeren"}),e._v("个人信息\n            ")]),n("el-dropdown-item",{attrs:{command:"/admin/cipher"}},[n("i",{staticClass:"iconfont iconmima"}),e._v("密码设置\n            ")]),n("el-dropdown-item",{nativeOn:{click:function(t){return e.logOut(t)}}},[n("i",{staticClass:"iconfont icontuichu"}),e._v("安全退出\n            ")])],1)],1)],1)])]),n("div",{staticClass:"header-content"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.go}},[e._v("上一页")])],1)])},f=[],h=n("5f87"),g=n("ba41"),v={name:"headers",props:{msg:{type:String,default:""},userName:{type:String,default:""}},data:function(){return{show:!1,pre:!0,src:n("8408")}},methods:{handleCommand:function(e){this.$router.push({path:e})},logOut:function(){var e=this;g["a"].logout().then(function(t){Object(h["a"])("token"),localStorage.removeItem("userInfo"),e.$store.commit("userInfo",{}),e.$message.success("退出成功"),e.$router.push({path:"/login"})}).catch(function(e){console.error(e)})},umen:function(){this.pre=!this.pre,this.$emit("showUmen",this.pre)},go:function(){this.$router.go(-1)}}},b=v,y=(n("ce16"),Object(u["a"])(b,p,f,!1,null,"5bab7652",null)),S=y.exports,k=n("5cb8"),w={name:"index",components:{UMEN:d,Head:S},data:function(){return{meta:"",message:!0,userName:"",routerFrom:"",fromScroll:""}},mounted:function(){console.log("%c%s","background:#ccc;color:#f00;font-size:20px;","欢迎使用优企创联CRM系统"),this.meta=this.$route.name;var e=Object(k["a"])(localStorage.getItem("userInfo"));this.$store.commit("userInfo",JSON.parse(e)),console.log(this.$store.state.userInfo),this.userName=this.$store.state.userInfo.name},methods:{showUmen:function(e){this.message=e}},watch:{$route:function(e,t){this.meta=this.$route.name,t.meta.keepAlive&&(this.routerFrom=t.path,this.fromScroll=this.$refs.scroll.wrap.scrollTop),e.path!==this.routerFrom||t.meta.keepAlive?this.$refs.scroll.wrap.scrollTop=0:this.$refs.scroll.wrap.scrollTop=this.fromScroll}}},x=w,_=(n("9b65"),Object(u["a"])(x,a,o,!1,null,"e193b214",null));t["default"]=_.exports},"9b65":function(e,t,n){"use strict";var a=n("e347"),o=n.n(a);o.a},a127:function(e,t,n){"use strict";var a=n("db08"),o=n.n(a);o.a},a18c:function(e,t,n){"use strict";var a=n("2b0e"),o=n("8c4f"),r=n("ddb9"),i=n("5f87"),s=Object(r["a"])();a["default"].use(o["a"]);var c=new o["a"]({routes:s});c.beforeEach(function(e,t,n){var a=i["b"]("token");sessionStorage.setItem("fromRoute",t.path),a&&"/login"===e.path?n({path:"/clue/index"}):n()}),t["a"]=c},aab8:function(e,t,n){},ba41:function(e,t,n){"use strict";var a=n("1c1e");t["a"]={getUserInfo:function(e){return Object(a["a"])({url:"/getUserInfo",method:"get",params:e})},logout:function(e){return Object(a["a"])({url:"/logout",method:"get",params:e})},login:function(e){return Object(a["a"])({url:"login",method:"get",params:e})},updatePassword:function(e){return Object(a["a"])({url:"/updatePassword",method:"get",params:e})}}},be35:function(e,t,n){},ce16:function(e,t,n){"use strict";var a=n("aab8"),o=n.n(a);o.a},db08:function(e,t,n){},ddb9:function(e,t,n){"use strict";var a=n("9261"),o=n("5cb8"),r=function(e){return function(t){return n.e("chunk-24319edc").then(function(){return t(n("aa59")("./"+e+".vue"))}.bind(null,n)).catch(n.oe)}};function i(){var e,t=localStorage.getItem("userInfo");return e=t&&JSON.parse(Object(o["a"])(t)).icon,[{path:"/",redirect:"/login",hidden:!0},{path:"/login",component:r("login"),hidden:!0},{path:"/clue",redirect:"clue/index",component:a["default"],name:"线索管理",icon:"iconkujialeqiyezhan_shouqianzixun",color:"#ff6600",children:[{path:"index",component:r("clue/management/clue"),name:"售前管理",meta:{keepAlive:!0}},{path:"message",component:r("clue/management/message"),name:"线索详情",hidden:!0},{path:"sendBack",component:r("clue/sendBack/sendBack"),name:"销售退回",meta:{keepAlive:!0}},{path:"returnDetail",component:r("clue/sendBack/returnDetail"),name:"销售退回详情",hidden:!0},{path:"highSeas",component:r("clue/highseas/highSeas"),name:"公海管理",meta:{keepAlive:!0}},{path:"highSeasdetails",component:r("clue/highseas/highSeasdetails"),name:"公海管理详情",hidden:!0}]},{path:"/sellManagement",component:a["default"],name:"销售管理",icon:"iconxiaoshouguanli",color:"#00B0FF",children:[{path:"customer",component:r("sellManagement/customer/customer"),name:"客户管理",meta:{keepAlive:!0}},{path:"customerdetails",component:r("sellManagement/customer/customerdetails"),name:"客户全景",hidden:!0},{path:"linkman",component:r("sellManagement/linkman/linkman"),name:"联系人管理",meta:{keepAlive:!0}},{path:"linkmandetails",component:r("sellManagement/linkman/linkmandetails"),name:"联系人管理详情",hidden:!0},{path:"opportunity",component:r("sellManagement/chance/opportunity"),name:"机会管理",meta:{keepAlive:!0}},{path:"opportunitydetails",component:r("sellManagement/chance/opportunitydetails"),name:"机会管理详情",hidden:!0},{path:"contract",component:r("sellManagement/contract/contract"),name:"合同管理",meta:{keepAlive:!0}},{path:"contractdetails",component:r("sellManagement/contract/contractdetails"),name:"合同管理详情",hidden:!0},{path:"receivable",component:r("sellManagement/payment/receivable"),name:"回款管理",meta:{keepAlive:!0}},{path:"receivablePlandetails",component:r("sellManagement/payment/receivablePlandetails"),name:"回款计划详情",hidden:!0},{path:"receivableRecorddetails",component:r("sellManagement/payment/receivableRecorddetails"),name:"回款记录详情",hidden:!0}]},{path:"/afterSale",component:a["default"],name:"售后管理",icon:"iconshouhou",color:"#F15685",children:[{path:"accountant",component:r("afterSale/accounting/accountant"),name:"售后客户管理"},{path:"CustomerPanoramic",component:r("afterSale/accounting/CustomerPanoramic"),name:"客户管理详情",hidden:!0,meta:{keepAlive:!0}},{path:"complaintAdvice",component:r("afterSale/complaintadvice/complaintAdvice"),name:"投诉与建议"},{path:"returnVisit",component:r("afterSale/returnVisit"),name:"回访管理"}]},{path:"/admin",component:a["default"],name:"系统权限管理",icon:"iconmima",color:"#67C23A",children:[{path:"user",component:r("admin/users/user"),name:"角色和权限管理"},{path:"administrators",component:r("admin/users/administrators"),name:"成员管理"},{path:"position",component:r("admin/users/position"),name:"职位管理"},{path:"department",component:r("admin/users/department"),name:"部门管理"},{path:"remind",component:r("admin/information/remind"),name:"提醒详情",hidden:!0},{path:"cipher",component:r("admin/information/cipher"),name:"修改密码",hidden:!0},{path:"informations",component:r("admin/information/informations"),name:"个人信息",hidden:!0}]},{path:"/subaccounts",component:a["default"],name:"系统设置",icon:"iconxitong1",color:"#FFD700",children:[{path:"ditch",component:r("subaccounts/ditch"),name:"渠道管理"},{path:"businessType",component:r("subaccounts/businessType"),name:"业务类型管理"},{path:"combo",component:r("subaccounts/combo"),name:"套餐管理"},{path:"company",component:r("subaccounts/company"),name:"企业管理",hidden:!e}]}]}t["a"]=i},e347:function(e,t,n){}});
//# sourceMappingURL=app.ce0cc60f.js.map